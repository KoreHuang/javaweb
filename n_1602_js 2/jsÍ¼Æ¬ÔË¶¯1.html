<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style>
			*{margin: 0px;}
			#d1{width: 500px;height: 300px;margin: 0px auto;margin-top:100px;position: relative;border: 1px solid red;overflow: hidden;}
			#d2{width: 100px;margin: 0px auto;text-align: center;}
			img{width:100%;height: 100%;position: absolute;}
		</style>
		<script>
		
			window.onload = function(){
				var bt2 = document.getElementById("bt2");
				var im1 = document.getElementById("im1");
				
				
				var target = 0;
				bt2.onclick = function(){
					startMove(im1,500);
				}
				
				var bt1 = document.getElementById("bt1");
				bt1.onclick = function(){
					startMove(im1,-500);
				}
				
			}
			var timer = null;
			function startMove(obj,target){
				clearInterval(timer);
				timer= setInterval(function(){
						var left = obj.offsetLeft;
						var speed = (target - left)/7;
						
						speed = speed >0?Math.ceil(speed):Math.floor(speed);
						
						console.log(1);
						if(left == target){
							clearInterval(timer);
							return;
						}
						obj.style.left = left+speed+"px";
					},20);	
			}
			
			
		</script>
	</head>
	<body>
		<div id="d1">
			<img src="img/j1.jpg" id="im1"/>
		</div>
		<div id="d2">
			<input type="button" value="向左" id="bt1"/>
			<input type="button" value="向右" id="bt2"/>
		</div>
	</body>
</html>
