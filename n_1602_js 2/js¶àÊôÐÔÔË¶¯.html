<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style>
			*{margin: 0px;}
			#d1{width:500px;height: 300px;border: 1px solid red;position: relative;margin:0px auto;margin-top: 100px;}
			img{width: 500px;height: 300px;position: absolute;opacity: 0.1;}
			#d2{width: 100px;margin: 0px auto;}
		</style>
		<script>
			window.onload = function(){
				var bt1 = document.getElementById("bt1");
				var im = document.getElementById("im");
				bt1.onclick = function(){
					startMove(im,{"top":-100,"left":500});
				}
			}
			
			var timer = null;
			function startMove(obj,tar){
				clearInterval(timer);
				timer = setInterval(function(){
					var flag = true;
					for(var attr in tar){
						var pNname = attr.substring(0,1).toUpperCase()+
								attr.substring(1);
						var t = obj["offset"+pNname];
						var speed = (tar[attr] - t)/7;
						speed = speed >0?Math.ceil(speed):Math.floor(speed);
						if(t != tar[attr]){
							flag = false;
						}
						obj.style[attr] = t+speed+"px";
					}
					if(flag){
						clearInterval(timer);
					}
				},20);	
			}
			
		</script>
	</head>
	<body>
		<div id="d1">
			<img src="img/j1.jpg" id="im"/>
		</div>
		<div id="d2">
			<input type="button" value="运动" id="bt1"/>
		</div>
	</body>
</html>
